jQuery(document).ready(function(i){function a(a){a=n(a,d),i("#grid article").children().remove(),i(".grid_btn div").removeClass("button-primary");var e=0;if(console.log(a),i.each(a,function(a){if("right_bar"!=a&&"left_bar"!=a&&"bottom_bar_half"!=a&&"bottom_bar_third"!=a&&"results_loop"!=a&&i("#grid article").append("wp_header"!=a&&"wp_footer"!=a?'<section data-name="'+a+'" class="grid_row "><div class="twelve column blue">'+a+' <a href="#TB_inline?width=650&height=420&inlineId=my-content-id" class="thickbox"><div class="dashicons dashicons-admin-links"></div></a></div></section>':'<section data-name="'+a+'" class="grid_row  "><div class="twelve column">'+a+"</div></section>"),"bottom_bar_half"==a){var n="";n+='	<section data-name="container" class="grid_row ">',n+='		<div data-name="'+a+'-one" class="one-half column blue">'+a+' <a href="#TB_inline?width=650&height=420&inlineId=my-content-id" class="thickbox"><div class="dashicons dashicons-admin-links"></div></a></div>',n+='		<div data-name="'+a+'-two" class="one-half column blue">'+a+' <a href="#TB_inline?width=650&height=420&inlineId=my-content-id" class="thickbox"><div class="dashicons dashicons-admin-links"></div></a></div>',n+="	</section>",i("#grid article").append(n)}if("bottom_bar_third"==a){var n="";n+='	<section data-name="container" class="grid_row ">',n+='		<div data-name="'+a+'-one" class="one-third column blue">'+a+' <a href="#TB_inline?width=650&height=420&inlineId=my-content-id" class="thickbox"><div class="dashicons dashicons-admin-links"></div></a></div>',n+='		<div data-name="'+a+'-two" class="one-third column blue">'+a+' <a href="#TB_inline?width=650&height=420&inlineId=my-content-id" class="thickbox"><div class="dashicons dashicons-admin-links"></div></a></div>',n+='		<div data-name="'+a+'-three" class="one-third column blue">'+a+' <a href="#TB_inline?width=650&height=420&inlineId=my-content-id" class="thickbox"><div class="dashicons dashicons-admin-links"></div></a></div>',n+="	</section>",i("#grid article").append(n)}("right_bar"==a||"left_bar"==a||"results_loop"==a)&&(0==e&&i("#grid article").append('<section data-name="container" class="grid_row loop"></div>'),e++),i(".grid_btn div[data-name='"+a+"']").toggleClass("button-primary")}),1==e)var t="twelve column",s="twelve column";if(2==e)var t="two-thirds column",s="one-third column";if(3==e)var t="one-third column",s="one-third column";void 0!=a.left_bar&&i(".loop").append('<div data-name="left_bar" class="'+s+' blue bar">left_bar <a href="#TB_inline?width=650&height=420&inlineId=my-content-id" class="thickbox"><div class="dashicons dashicons-admin-links"></div></a></div>'),1==a.results_loop&&i(".loop").append('<div class="'+t+' green"><div>resoults_loop</div><div>&nbsp;</div><div>&nbsp;</div></div>'),void 0!=a.right_bar&&i(".loop").append('<div data-name="right_bar" class="'+s+' blue bar">right_bar <a href="#TB_inline?width=650&height=420&inlineId=my-content-id" class="thickbox"><div class="dashicons dashicons-admin-links"></div></a></div>'),i.each(a,function(a,n){1!=n&&(void 0!=n.id?"right_bar"==a||"left_bar"==a?(i('section div[data-name="'+a+'"]').addClass("green"),i('section div[data-name="'+a+'"]').append('<pre class="reg_sidebar">['+n.name+"]</pre>")):(i('section[data-name="'+a+'"]').children().addClass("green"),i('section[data-name="'+a+'"]').children().append('<pre class="reg_sidebar">['+n.name+"]</pre>")):i.each(n,function(n,e){1!=e&&(i('section div[data-name="'+a+"-"+n+'"]').addClass("green"),i('section div[data-name="'+a+"-"+n+'"]').append('<pre class="reg_sidebar">['+e.name+"]</pre>"))}))})}function n(a,n){var e={};return i.each(n,function(i,n){void 0!=a[i]&&(e[i]=n)}),e}function e(i,n){var e=n.split("-");void 0==e[1]?d[e[0]]=i:d[e[0]][e[1]]=i,a(s)}var t,d={top_header:!0,wp_header:!0,results_header:!0,left_bar:!0,results_loop:!0,right_bar:!0,bottom_bar:!0,bottom_bar_half:{one:!0,two:!0},bottom_bar_third:{one:!0,two:!0,three:!0},wp_footer:!0},s={top_header:!0,wp_header:!0,results_loop:!0,wp_footer:!0};a(s),i("#grid_controlls .button").click(function(){i(this).hasClass("button-primary")?(delete s[i(this).attr("data-name")],a(s)):(s[i(this).attr("data-name")]=!0,a(s))}),i("#TB_ajaxContent .button").live("click",function(){var a={id:null,name:null};a.id=i(this).attr("data-name"),a.name=i(this).text(),e(a,t),tb_remove()}),i("#grid").on("click",".dashicons-admin-links",function(){t=i(this).closest("section").attr("data-name"),"container"==t&&(t=i(this).closest(".column").attr("data-name"))})});